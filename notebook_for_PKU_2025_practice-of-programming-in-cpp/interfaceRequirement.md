# 后端接口需求 （written by GP）

## For ZYH

### 编辑器类
希望你实现一个编辑器类，通过其对象，可以调用如下的函数：

1. 用编辑器打开指定日记的函数
    - 参数：日记类对象指针 —— 需要被打开的日记
    - 效果：打开一个编辑器界面，其中已经预加载了指定的这篇日记

### 日记类

希望你实现一个日记类，其每个对象都存储了一篇日记

且通过其对象，可以调用如下的函数：

1. 获取日记所属的日记本
2. 获取日记的日期、时间
3. 获取日记的标题（用户自己填写的标题）
4. 获取日记当中的图片序列
    - 希望返回值是 `vector<QPixmap>`
5. 获取日记的“markdown预览版本”——markdown的html格式
    - 参数：所需行数
    - 效果：QString类型，html格式（富文本模式）。希望可以比较准确地反映出markdown的内容

### 日记本类

这个感觉可以不用单独设类，直接用一个vector存储日记对象即可

## For WZY

### 操作类

希望你实现一个操作类，用于处理各种操作。

且通过其对象，可以调用如下的函数：

1. 检测是否正在保持长期登录
    - 无参数
    - 效果：在app开始运行时调用，检测当前状态是否是已登录。（具体而言，还希望能够添加“超过n天则必须重新登陆”的功能）
    - 返回值：是否需要重新登录
2. 检测登录情况
    - 参数：(QString 输入的用户名 , QString 输入的密码)
    - 返回值(int)：1表示成功登录，0表示新用户注册，-1表示登录失败
3. 设置当前用户
    - 参数：当前用户名和密码
    - 效果：使得你的函数知道当前的用户是哪一个
4. 获取当前用户的日记本名称集合
    - 参数：无
    - 返回值：`vector<QString>`
5. 随机推送当前用户的一篇含图片的日记
    - 无参数
    - 返回值：日记类对象指针
6. 按照日记本和日期筛选笔记
    - 参数：所属笔记本，日期区间（起始日期 , 终止日期的后一天）
    - 返回值：日记类对象指针的vector
7. 在一个笔记本内部搜索笔记
    - 参数：搜索关键词（QString），是否重新开始搜索（bool），批次答案数量（int batchSize）
    - 返回值（`vector<日记类*>`）：如重新开始搜索，则给出batchSize个日记类对象指针（存在vector中）；如不重新开始搜索，则从上一次搜索结束的日记开始，往后再搜出batchSize个日记；如不存在则返回空vector。
